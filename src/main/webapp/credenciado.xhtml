<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
  <ui:composition template="/template.xhtml">
		<ui:define name="content">
	    	<h:form>
				<div class="ui-fluid">
					<div class="ui-g">
					    <div class="ui-g-12">
					    	<p:messages/>
						</div>
					</div>	
					<div class="ui-g">
					    <div class="ui-g-2">
					    	<p:outputLabel for="input"	value="ID"/>
							<p:inputText id="input" 
							             value="#{credenciadoController.credenciado.id}"
							             readonly="true"/>
						</div>
						<div class="ui-g-10">
							<p:outputLabel for="razao" value="Razão Social" />
							<p:inputText id="razao" value="#{credenciadoController.credenciado.razao}"/>
						</div>
					</div>
					
					<div class="ui-g">
					    <div class="ui-g-4">
					    	<p:outputLabel for="fantasia"	value="Nome Fantasia"/>
							<p:inputText id="fantasia" 
							             value="#{credenciadoController.credenciado.fantasia}"
							             />
						</div>
						
						<div class="ui-g-2">
					    	<p:outputLabel for="cnpj"	value="CNPJ"/>
							<p:inputText id="cnpj" 
							             value="#{credenciadoController.credenciado.cnpj}"
							             />
						</div>
						
						<div class="ui-g-2">
					    	<p:outputLabel for="ie"	value="Inscrição Estadual"/>
							<p:inputText id="ie" 
							             value="#{credenciadoController.credenciado.ie}"
							             />
						</div>
						
						<div class="ui-g-4">
							<p:outputLabel for="email" value="E-mail" />
							<p:inputText id="email" value="#{credenciadoController.credenciado.email}"/>
						</div>
					</div>
					
					<div class="ui-g">
					    <div class="ui-g-2">
					    	<p:outputLabel for="telefone"	value="Telefone"/>
							<p:inputText id="telefone" 
							             value="#{credenciadoController.credenciado.telefone}"
							             />
						</div>
						
						<div class="ui-g-4">
					    	<p:outputLabel for="proprietario"	value="Proprietario"/>
							<p:inputText id="proprietario" 
							             value="#{credenciadoController.credenciado.proprietario}"
							             />
						</div>
						
						<div class="ui-g-4">
					    	<p:outputLabel for="contato"	value="Contato"/>
							<p:inputText id="contato" 
							             value="#{credenciadoController.credenciado.contato}"
							             />
						</div>
						
						<div class="ui-g-2">
					    	<p:outputLabel for="taxa"	value="Taxa"/>
							<p:inputText id="taxa" 
							             value="#{credenciadoController.credenciado.taxa}"
							             />
						</div>
					</div>
						
					<div class="ui-g">	
						<div class="ui-g-4 ui-sm-6">
							<p:commandButton value="Salvar" 
							                 action="#{credenciadoController.salvar()}"
							                 update="@form"/>
						</div>
						<div class="ui-g-4 ui-sm-6">
							<p:button value="Cancelar"
							          outcome="/credenciados?faces-redirect=true"
							          />
						</div>
					</div>
				</div>
			</h:form>  
			
			<p:tabView>
				<p:tab title="Contas">
					<h:form>
			    		<div class="ui-fluid">
			    
							<p:dataTable var="item" 
							             value="#{contasController.lazyModel}" 
							             paginator="true" 
						                 paginatorPosition="top"
						                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} 
						                 	{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"				        
							             rows="10"
						                 selectionMode="single" 
						                 reflow="true"
						                 id="carTable" 
						                 lazy="true"
		                                 widgetVar="gridVar" 
						                 >
						        <f:facet name="header">
						            <p:outputPanel>
						                <h:outputText value="Buscar:" />
						                <p:inputText id="globalFilter" onkeydown="executeFilter(event,'gridVar'); " style="width:150px" placeholder="Buscar por.."/>
						            </p:outputPanel>
						        </f:facet>         
						  		<f:facet name="paginatorTopLeft">
						            <p:commandButton icon="fa fa-plus" style="width: 30px" action="#{contasController.incluir()}" />
						        </f:facet>
						        <p:column headerText="Ações">
						        	<p:commandButton  action="#{contasController.alterar(item)}"
						        	                  icon="fa fa-edit"
						        	                  style="width: 30px"  />
						        	<p:commandButton  action="#{contasController.remover(item)}"
						        					  icon="fa fa-trash" 
						        	                  style="width: 30px" 
						        	                  update="@form" >
						        	   <p:confirm header="Confirmação" 
						        	              message="Deseja remover o registro?" 
						        	              icon="ui-icon-alert" 
						        	              />               
						        	</p:commandButton>                  
						        </p:column>
						        <p:column headerText="Id">
						            <h:outputText value="#{item.id}" />
						        </p:column>
						        <p:column headerText="Banco">
						            <h:outputText value="#{item.banco}" />
						        </p:column>
						        <p:column headerText="Agência">
						            <h:outputText value="#{item.agencia}" />
						        </p:column>
						        <p:column headerText="Conta">
						            <h:outputText value="#{item.conta}" />
						        </p:column>
						    </p:dataTable>
						</div>
					</h:form>
				</p:tab>
			</p:tabView>
	    </ui:define>
  </ui:composition>
</html>