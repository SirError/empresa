<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
  <ui:composition template="/template.xhtml">
		<ui:define name="content">
	    	<h:form>
				<div class="ui-fluid">
					<div class="ui-g">
					    <div class="ui-g-12">
					    	<p:messages/>
						</div>
					</div>	
					<div class="ui-g">
					    <div class="ui-g-2">
					    	<p:outputLabel for="input"	value="ID"/>
							<p:inputText id="input" 
							             value="#{empresaController.empresa.id}"
							             readonly="true"/>
						</div>
						<div class="ui-g-10">
							<p:outputLabel for="razao" value="Razão Social" />
							<p:inputText id="razao" value="#{empresaController.empresa.razao}"/>
						</div>
					</div>
					
					<div class="ui-g">
					    <div class="ui-g-4">
					    	<p:outputLabel for="fantasia"	value="Nome Fantasia"/>
							<p:inputText id="fantasia" 
							             value="#{empresaController.empresa.fantasia}"
							             />
						</div>
						
						<div class="ui-g-2">
					    	<p:outputLabel for="cnpj"	value="CNPJ"/>
							<p:inputText id="cnpj" 
							             value="#{empresaController.empresa.cnpj}"
							             />
						</div>
						
						<div class="ui-g-2">
					    	<p:outputLabel for="ie"	value="Inscrição Estadual"/>
							<p:inputText id="ie" 
							             value="#{empresaController.empresa.ie}"
							             />
						</div>
						
						<div class="ui-g-4">
							<p:outputLabel for="email" value="E-mail" />
							<p:inputText id="email" value="#{empresaController.empresa.email}"/>
						</div>
					</div>
					
					<div class="ui-g">
					    <div class="ui-g-2">
					    	<p:outputLabel for="telefone"	value="Telefone"/>
							<p:inputText id="telefone" 
							             value="#{empresaController.empresa.telefone}"
							             />
						</div>
						
						<div class="ui-g-3">
					    	<p:outputLabel for="proprietario"	value="Proprietario"/>
							<p:inputText id="proprietario" 
							             value="#{empresaController.empresa.proprietario}"
							             />
						</div>
						
						<div class="ui-g-3">
					    	<p:outputLabel for="contato"	value="Contato"/>
							<p:inputText id="contato" 
							             value="#{empresaController.empresa.contato}"
							             />
						</div>
						
						<div class="ui-g-2">
					    	<p:outputLabel for="taxa"	value="Taxa"/>
							<p:inputText id="taxa" 
							             value="#{empresaController.empresa.taxa}"
							             />
						</div>
						<div class="ui-g-2">
					    	<p:outputLabel for="dataFechamento"	value="Dt. Fechamento"/>
							<p:calendar id="dataFechamento" 
							             value="#{empresaController.empresa.dataFechamento}"
							             pattern="dd/MM/yyyy"/>
						</div>
					</div>
						
					<div class="ui-g">	
						<div class="ui-g-4 ui-sm-6">
							<p:commandButton value="Salvar" 
							                 action="#{empresaController.salvar()}"
							                 update="@form"/>
						</div>
						<div class="ui-g-4 ui-sm-6">
							<p:button value="Cancelar"
							          outcome="/empresas?faces-redirect=true"
							          />
						</div>
					</div>
				</div>
			</h:form>  
			
			<p:tabView>
				
				<p:tab title="Endereços">
					<h:form>
			    		<div class="ui-fluid">
			    
							<p:dataTable var="item" 
							             value="#{enderecosEmpresaController.lazyModel}" 
							             paginator="true" 
						                 paginatorPosition="top"
						                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} 
 						                 	{PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"				         
							             rows="10"
						                 selectionMode="single" 
						                 reflow="true"
						                 id="carTable" 
						                 lazy="true"
		                                 widgetVar="endGridVar" 
						                 >
						        <f:facet name="header">
						            <p:outputPanel>
						                <h:outputText value="Buscar:" />
						                <p:inputText id="globalFilter" onkeydown="executeFilter(event,'endGridVar'); " style="width:150px" placeholder="Buscar por.."/>
						            </p:outputPanel>
						        </f:facet>         
						  		<f:facet name="paginatorTopLeft">
						            <p:commandButton icon="fa fa-plus" style="width: 30px" action="#{enderecosEmpresaController.incluir()}" />
						        </f:facet>
						        <p:column headerText="Ações">
						        	<p:commandButton  action="#{enderecosEmpresaController.alterar(item)}"
						        	                  icon="fa fa-edit"
						        	                  style="width: 30px"  />
						        	<p:commandButton  action="#{enderecosEmpresaController.remover(item)}"
						        					  icon="fa fa-trash" 
						        	                  style="width: 30px" 
						        	                  update="@form" >
						        	   <p:confirm header="Confirmação" 
						        	              message="Deseja remover o registro?" 
						        	              icon="ui-icon-alert" 
						        	              />               
						        	</p:commandButton>                  
						        </p:column>
						        <p:column headerText="Id">
						            <h:outputText value="#{item.id}" />
						        </p:column>
						        <p:column headerText="Endereço">
						            <h:outputText value="#{item.endereco}" />
						        </p:column>
						        <p:column headerText="Bairro">
						            <h:outputText value="#{item.bairro}" />
						        </p:column>
						        <p:column headerText="Cidade">
						            <h:outputText value="#{item.cidade}" />
						        </p:column>
						    </p:dataTable>
						</div>
					</h:form>
				</p:tab>
			</p:tabView>
	    </ui:define>
  </ui:composition>
</html>